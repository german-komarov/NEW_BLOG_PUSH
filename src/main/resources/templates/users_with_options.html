<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>All Users</title>
</head>
<div align="left"><a href="/main/admin">Admin Page</a> </div>
<body>


<div align="center">
    <h1>User List</h1>
    <br>
    <form method="post" action="/main/admin/users/filter">
        <input type="text" placeholder="Search by username" name="filter">
        <button type="submit">Find</button>
    </form>
    <br>
    <table border="1" cellpadding="10">
        <thead>
        <tr>

            <th>Id</th>
            <th>Username</th>
            <th>Password</th>
            <th>Roles</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="users : ${usersList}">
            <td th:text="${users.id}">Title</td>
            <td ><a th:href="@{'/main/admin/users/this_user/' + ${users.id}}"><span th:text="${users.username}"></span></a> </td>
            <td th:text="${users.password}">User</td>
            <td>
                <span th:each="role : ${users.roles}">
                    <span th:text="${role.name}">Roles</span>
                </span>
            </td>
            <td><a th:href="@{'/main/admin_special/users/make_moderator/'+${users.id}}">Make Moderator</a></td>
            <td><a th:href="@{'/main/admin_special/users/delete_moderator/'+${users.id}}">Delete Moderator</a></td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
